<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sanchita ğŸŒ™ Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Segoe UI', sans-serif;
    background: radial-gradient(circle at bottom, #0b1026, #02040f);
    animation: candleFlicker 6s infinite;
    color: white;
  }

  /* ğŸ•¯ Candlelight flicker */
  @keyframes candleFlicker {
    0% { filter: brightness(1); }
    30% { filter: brightness(0.96); }
    60% { filter: brightness(1.04); }
    100% { filter: brightness(1); }
  }

  /* â­ Stars */
  .star {
    position: fixed;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    opacity: 0.8;
    animation: twinkle 3s infinite ease-in-out;
  }

  @keyframes twinkle {
    0%,100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  .card {
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(10px);
    padding: 36px 30px;
    border-radius: 22px;
    text-align: center;
    width: 90%;
    max-width: 380px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.6);
    z-index: 5;
  }

  h1 {
    color: #ff6b81;
    margin-bottom: 12px;
  }

  p {
    font-size: 16px;
    margin-bottom: 25px;
  }

  .buttons {
    position: relative;
    height: 150px;
  }

  button {
    padding: 15px 36px;
    font-size: 18px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    position: absolute;
  }

  #yes {
    left: 50%;
    transform: translateX(-50%) scale(var(--scale));
    background: #ff4d6d;
    color: white;
    --scale: 1;
  }

  #yes.glow {
    box-shadow:
      0 0 20px #ff4d6d,
      0 0 45px #ff4d6d,
      0 0 90px #ff99aa;
  }

  #no {
    background: #999;
    color: #111;
    top: 85px;
    left: 50%;
    transform: translateX(-50%);
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 2;
  }
</style>
</head>

<body>

<!-- ğŸ¶ Romantic background music -->
<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
</audio>

<canvas id="fireworks"></canvas>

<div class="card">
  <h1>Sanchita ğŸŒ™ğŸ’–</h1>
  <p>
    Under the stars tonightâ€¦ âœ¨<br>
    Will you be my Valentine? ğŸ˜
  </p>

  <div class="buttons" id="buttons">
    <button id="yes">YES ğŸ’–</button>
    <button id="no">NO ğŸ™„</button>
  </div>
</div>

<script>
/* â­ Generate stars */
for (let i = 0; i < 120; i++) {
  const star = document.createElement("div");
  star.className = "star";
  star.style.left = Math.random() * 100 + "vw";
  star.style.top = Math.random() * 100 + "vh";
  star.style.animationDelay = Math.random() * 3 + "s";
  document.body.appendChild(star);
}

/* ELEMENTS */
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const buttons = document.getElementById("buttons");
const music = document.getElementById("bgMusic");

/* STATE */
let yesScale = 1;
let audioCtx;
let musicStarted = false;

/* ğŸ“± VIBRATION */
function vibrate(p) {
  if (navigator.vibrate) navigator.vibrate(p);
}

/* ğŸ”Š HEARTBEAT SOUND */
function heartbeatSound(freq, duration) {
  if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();

  osc.frequency.value = freq;
  osc.type = "sine";
  osc.connect(gain);
  gain.connect(audioCtx.destination);

  gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
  gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration/1000);

  osc.start();
  osc.stop(audioCtx.currentTime + duration/1000);
}

/* ğŸ’“ HEARTBEAT SYNC */
function heartbeat() {
  yesBtn.classList.add("glow");
  vibrate(60);
  heartbeatSound(90,120);
  setTimeout(()=>yesBtn.classList.remove("glow"),120);

  setTimeout(()=>{
    yesBtn.classList.add("glow");
    vibrate(40);
    heartbeatSound(110,100);
  },180);

  setTimeout(()=>yesBtn.classList.remove("glow"),300);
}

setInterval(heartbeat, 1200);

/* ğŸ§² MAGNETIC NO */
function magnet() {
  const y = yesBtn.getBoundingClientRect();
  const n = noBtn.getBoundingClientRect();
  const dx = n.left - y.left;
  const dy = n.top - y.top;
  const dist = Math.hypot(dx,dy);

  if (dist < 150) {
    noBtn.style.left = Math.random() * (buttons.clientWidth - noBtn.offsetWidth) + "px";
    noBtn.style.top = Math.random() * (buttons.clientHeight - noBtn.offsetHeight) + "px";
  }
}

setInterval(magnet, 220);

/* âŒ NO click only */
noBtn.addEventListener("click", () => {
  noBtn.style.left = Math.random() * (buttons.clientWidth - noBtn.offsetWidth) + "px";
  noBtn.style.top = Math.random() * (buttons.clientHeight - noBtn.offsetHeight) + "px";
  yesScale += 0.12;
  yesBtn.style.setProperty("--scale", yesScale);
});

/* ğŸ† FIREWORKS */
const canvas = document.getElementById("fireworks");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

function firework(x,y){
  for(let i=0;i<80;i++){
    let a=Math.random()*Math.PI*2;
    let s=Math.random()*5+2;
    let px=x,py=y,l=60;
    let vx=Math.cos(a)*s,vy=Math.sin(a)*s;
    let t=setInterval(()=>{
      ctx.fillStyle=`rgba(255,77,109,${l/60})`;
      ctx.fillRect(px,py,3,3);
      px+=vx; py+=vy; l--;
      if(l<=0) clearInterval(t);
    },16);
  }
}

/* ğŸ’– YES CLICK */
yesBtn.addEventListener("click",()=>{
  vibrate([100,50,100,50,200]);
  for(let i=0;i<6;i++){
    setTimeout(()=>firework(Math.random()*innerWidth,Math.random()*innerHeight*0.6),i*300);
  }

  setTimeout(()=>{
    document.body.innerHTML=`
      <div style="height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:radial-gradient(circle,#1b1f4b,#050716);color:white;text-align:center;">
        <h1>ğŸŒ™ SHE SAID YES ğŸŒ™</h1>
        <p style="font-size:22px;">
          Sanchita, under the stars â€” youâ€™re my Valentine ğŸ’–âœ¨
        </p>
      </div>`;
  },1200);
});

/* ğŸ¶ Start music on interaction */
document.body.addEventListener("click",()=>{
  if(!musicStarted){
    music.play();
    musicStarted=true;
  }
});
</script>

</body>
</html>
