<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sanchita üåô Valentine</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
  body {
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Segoe UI', sans-serif;
    background: radial-gradient(circle at bottom, #0b1026, #02040f);
    animation: candleFlicker 6s infinite;
    color: white;
  }

  @keyframes candleFlicker {
    0% { filter: brightness(1); }
    50% { filter: brightness(0.97); }
    100% { filter: brightness(1.03); }
  }

  /* üåï Moon */
  .moon {
    position: fixed;
    bottom: -200px;
    left: 10%;
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, #fff, #ddd);
    border-radius: 50%;
    box-shadow: 0 0 40px rgba(255,255,255,0.4);
    animation: moonRise 40s linear forwards;
    z-index: 1;
  }

  @keyframes moonRise {
    to { bottom: 65%; }
  }

  /* ‚≠ê Stars */
  .star {
    position: fixed;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s infinite;
    opacity: 0.6;
  }

  @keyframes twinkle {
    0%,100% { opacity: 0.2; }
    50% { opacity: 1; }
  }

  .card {
    background: rgba(255,255,255,0.08);
    backdrop-filter: blur(10px);
    padding: 36px;
    border-radius: 22px;
    text-align: center;
    width: 380px;
    z-index: 5;
    box-shadow: 0 30px 80px rgba(0,0,0,0.6);
  }

  h1 { color: #ff6b81; }

  .buttons {
    position: relative;
    height: 150px;
  }

  button {
    padding: 15px 36px;
    font-size: 18px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    position: absolute;
  }

  #yes {
    left: 50%;
    transform: translateX(-50%) scale(var(--scale));
    background: #ff4d6d;
    color: white;
    --scale: 1;
  }

  #yes.glow {
    box-shadow:
      0 0 20px #ff4d6d,
      0 0 45px #ff4d6d,
      0 0 90px #ff99aa;
  }

  #no {
    background: #999;
    color: #111;
    top: 85px;
    left: 50%;
    transform: translateX(-50%);
  }

  /* üí¨ Whisper */
  .whisper {
    position: fixed;
    bottom: 20%;
    font-size: 18px;
    opacity: 0;
    animation: whisperFloat 4s ease forwards;
    color: #ffb3c1;
    font-style: italic;
  }

  @keyframes whisperFloat {
    0% { opacity: 0; transform: translateY(20px); }
    30% { opacity: 0.9; }
    100% { opacity: 0; transform: translateY(-40px); }
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 2;
  }
</style>
</head>

<body>

<div class="moon"></div>

<audio id="bgMusic" loop>
  <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
</audio>

<canvas id="fx"></canvas>

<div class="card">
  <h1>Sanchita üåôüíñ</h1>
  <p>Under the stars tonight‚Ä¶ ‚ú®<br>Will you be my Valentine?</p>

  <div class="buttons" id="buttons">
    <button id="yes">YES üíñ</button>
    <button id="no">NO üôÑ</button>
  </div>
</div>

<script>
/* ‚≠ê Stars */
for (let i = 0; i < 120; i++) {
  const s = document.createElement("div");
  s.className = "star";
  s.style.left = Math.random()*100+"vw";
  s.style.top = Math.random()*100+"vh";
  s.style.animationDelay = Math.random()*3+"s";
  document.body.appendChild(s);
}

const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const buttons = document.getElementById("buttons");
const music = document.getElementById("bgMusic");

let yesScale = 1;
let audioCtx;
let musicStarted = false;

/* üì± Vibration */
function vibrate(p){ if(navigator.vibrate) navigator.vibrate(p); }

/* üíì Heartbeat sound */
function heartbeatSound(freq, dur){
  audioCtx ||= new AudioContext();
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.frequency.value=freq;
  o.connect(g); g.connect(audioCtx.destination);
  g.gain.setValueAtTime(0.3,audioCtx.currentTime);
  g.gain.exponentialRampToValueAtTime(0.001,audioCtx.currentTime+dur/1000);
  o.start(); o.stop(audioCtx.currentTime+dur/1000);
}

/* üíì Heartbeat sync */
setInterval(()=>{
  yesBtn.classList.add("glow");
  vibrate(60); heartbeatSound(90,120);
  setTimeout(()=>yesBtn.classList.remove("glow"),120);
  setTimeout(()=>{
    yesBtn.classList.add("glow");
    vibrate(40); heartbeatSound(110,100);
  },180);
  setTimeout(()=>yesBtn.classList.remove("glow"),300);
},1200);

/* üß≤ Magnetic NO */
setInterval(()=>{
  const y=yesBtn.getBoundingClientRect();
  const n=noBtn.getBoundingClientRect();
  if(Math.hypot(n.left-y.left,n.top-y.top)<150){
    noBtn.style.left=Math.random()*(buttons.clientWidth-noBtn.offsetWidth)+"px";
    noBtn.style.top=Math.random()*(buttons.clientHeight-noBtn.offsetHeight)+"px";
  }
},220);

/* ‚ùå NO click only */
noBtn.onclick=()=>{
  noBtn.style.left=Math.random()*(buttons.clientWidth-noBtn.offsetWidth)+"px";
  noBtn.style.top=Math.random()*(buttons.clientHeight-noBtn.offsetHeight)+"px";
  yesScale+=0.12;
  yesBtn.style.setProperty("--scale",yesScale);
};

/* üéÜ Fireworks + üå† Shooting stars */
const c=document.getElementById("fx"),ctx=c.getContext("2d");
c.width=innerWidth; c.height=innerHeight;

function firework(x,y){
  for(let i=0;i<80;i++){
    let a=Math.random()*Math.PI*2,s=Math.random()*4+2;
    let px=x,py=y,l=50;
    let t=setInterval(()=>{
      ctx.fillStyle=`rgba(255,77,109,${l/50})`;
      ctx.fillRect(px,py,3,3);
      px+=Math.cos(a)*s; py+=Math.sin(a)*s; l--;
      if(l<=0) clearInterval(t);
    },16);
  }
}

function shootingStar(){
  let x=Math.random()*innerWidth,y=Math.random()*innerHeight/2;
  let vx=10,vy=4,l=30;
  let t=setInterval(()=>{
    ctx.fillStyle="rgba(255,255,255,0.8)";
    ctx.fillRect(x,y,3,3);
    x+=vx; y+=vy; l--;
    if(l<=0) clearInterval(t);
  },16);
}

/* üí¨ Whisper */
function whisper(){
  const w=document.createElement("div");
  w.className="whisper";
  w.textContent="Say yes already, Sanchita üòè";
  w.style.left=Math.random()*60+20+"%";
  document.body.appendChild(w);
  setTimeout(()=>w.remove(),4000);
}

/* üíñ YES */
yesBtn.onclick=()=>{
  vibrate([100,50,100,50,200]);
  for(let i=0;i<6;i++) setTimeout(()=>firework(Math.random()*innerWidth,Math.random()*innerHeight*0.6),i*250);
  for(let i=0;i<3;i++) setTimeout(shootingStar,i*300);
  whisper();
};

/* üé∂ Start music */
document.body.onclick=()=>{
  if(!musicStarted){
    music.play(); musicStarted=true;
  }
};
</script>

</body>
</html>
